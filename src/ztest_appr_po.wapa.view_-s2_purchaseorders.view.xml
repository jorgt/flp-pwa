<mvc:View controllerName="ztest.purchaseorders.approve.controller.S2_PurchaseOrders" xmlns:mvc="sap.ui.core.mvc" xmlns:semantic="sap.m.semantic" xmlns="sap.m">                                                                                                
	<semantic:MasterPage id="masterPage" navButtonPress="onNavButtonPressed" showNavButton="true"                                                                                                                                                                 
		title="{path:'viewProperties>/itemCount', formatter: '.formatter.listTitle' }" showFooter="{= ${globalProperties>/isMultiSelect} &amp;&amp; ${device>/system/phone}}" floatingFooter="{= ${globalProperties>/isMultiSelect} &amp;&amp; ${device>/system/phon+
e}}">                                                                                                                                                                                                                                                          
		<semantic:multiSelectAction>                                                                                                                                                                                                                                 
			<semantic:MultiSelectAction                                                                                                                                                                                                                                 
			    id="multiSelectButton" pressed="{globalProperties>/isMultiSelect}"                                                                                                                                                                                      
				enabled="{= (${globalProperties>/isMultiSelect} || ${viewProperties>/itemCount} > 0) &amp;&amp;&nbsp;                                                                                                                                                      
				!(${globalProperties>/isSwipeRunning} || ${globalProperties>/isBusyApproving}) }"&nbsp;                                                                                                                                                                    
				press="onMultiSelectPressed" />                                                                                                                                                                                                                            
		</semantic:multiSelectAction>                                                                                                                                                                                                                                
		<semantic:subHeader>                                                                                                                                                                                                                                         
			<Bar id="subHeaderBar">                                                                                                                                                                                                                                     
				<contentMiddle>                                                                                                                                                                                                                                            
					<SearchField id="searchField" search="onSearch" showRefreshButton="{= !${device>/support/touch} }" width="100%"></SearchField>                                                                                                                            
				</contentMiddle>                                                                                                                                                                                                                                           
			</Bar>                                                                                                                                                                                                                                                      
		</semantic:subHeader>                                                                                                                                                                                                                                        
		<semantic:content>                                                                                                                                                                                                                                           
			<PullToRefresh id="pullToRefresh" refresh="onRefresh" visible="{device>/support/touch}"/>                                                                                                                                                                   
			<List id="poList" modeAnimationOn="false"                                                                                                                                                                                                                   
				busyIndicatorDelay="{= ${globalProperties>/masterImmediateBusy} ? 0 : ${viewProperties>/originalBusyDelayList} }"&nbsp;                                                                                                                                    
				enableBusyIndicator="{= !${globalProperties>/isBusyApproving} }" includeItemInSelection="true"                                                                                                                                                             
				items="{path: '/PurchaseOrders', templateShareable: false, sorter: [{path: 'ChangedAt', descending: true}, {path: 'POId', descending: false}], parameters: {select:                                                                                        
				'POId,OrderedByName,SupplierName,GrossAmount,CurrencyCode,ChangedAt,ItemCount'}}"                                                                                                                                                                          
				mode="{= ${globalProperties>/isMultiSelect} ? 'MultiSelect' : (${device>/system/phone} ? 'None' : 'SingleSelectMaster') }"&nbsp;                                                                                                                           
				noDataText="{globalProperties>/listNoDataText}"&nbsp;                                                                                                                                                                                                      
				selectionChange="onSelectPressed" swipe="onSwipe" updateFinished="onUpdateFinished">                                                                                                                                                                       
				<items>                                                                                                                                                                                                                                                    
					<ObjectListItem id="listItem" intro="{parts:[{path: 'i18n>xfld.orderedBy'}, {path: 'OrderedByName'}], formatter: 'jQuery.sap.formatMessage'}"                                                                                                             
						number="{parts: [ {path: 'GrossAmount'}, {path: 'CurrencyCode'}],                                                                                                                                                                                        
                            type : 'sap.ui.model.type.Currency',                                                                                                                                                                                               
                            formatOptions: { showMeasure: false }}"&nbsp;                                                                                                                                                                                      
                        numberUnit="{CurrencyCode}" press="onSelectPressed" title="{SupplierName}"                                                                                                                                                             
						type="{= ${device>/system/phone} ? 'Active' : 'Inactive'}">                                                                                                                                                                                              
						<secondStatus>                                                                                                                                                                                                                                           
							<ObjectStatus id="changedAtObjectStatus" text="{path: 'ChangedAt', type: 'sap.ui.model.type.Date',                                                                                                                                                      
									formatOptions: { style: 'medium',                                                                                                                                                                                                                     
													strictParsing: true,                                                                                                                                                                                                                              
													relative: true }}"/>                                                                                                                                                                                                                              
						</secondStatus>                                                                                                                                                                                                                                          
						<attributes>                                                                                                                                                                                                                                             
							<!--empty attribute added to align ItemCount with ChangeAt-->                                                                                                                                                                                           
							<ObjectAttribute id="emptyAttribute"/>                                                                                                                                                                                                                  
							<ObjectAttribute id="itemCountObjectAttribute" text="{path: 'ItemCount', formatter: '.formatter.items'}"/>                                                                                                                                              
						</attributes>                                                                                                                                                                                                                                            
					</ObjectListItem>                                                                                                                                                                                                                                         
				</items>                                                                                                                                                                                                                                                   
				<swipeContent>                                                                                                                                                                                                                                             
					<Button id="swipeButton" press="onSwipeApprove" text="{i18n>xbut.approve}" type="Accept"/>                                                                                                                                                                
				</swipeContent>                                                                                                                                                                                                                                            
			</List>                                                                                                                                                                                                                                                     
		</semantic:content>                                                                                                                                                                                                                                          
		<semantic:customFooterContent>                                                                                                                                                                                                                               
			<Button id="processButton"&nbsp;                                                                                                                                                                                                                            
			    enabled="{= ${globalProperties>/selectedPurchaseOrders}.length > 0}" text="{i18n>xbut.process}" type="Emphasized"&nbsp;                                                                                                                                 
				visible="{= ${globalProperties>/isMultiSelect} &amp;&amp; ${device>/system/phone} }"&nbsp;                                                                                                                                                                 
				press="onProcessPressed"/>                                                                                                                                                                                                                                 
		</semantic:customFooterContent>                                                                                                                                                                                                                              
	</semantic:MasterPage>                                                                                                                                                                                                                                        
</mvc:View>                                                                                                                                                                                                                                                    